var H=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var o=t[n],a=o.obj[o.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:c}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<n.length;++a){var s=n.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?i+=n.charAt(a):s<128?i+=o[s]:s<2048?i+=o[192|s>>6]+o[128|63&s]:s<55296||s>=57344?i+=o[224|s>>12]+o[128|s>>6&63]+o[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(a)),i+=o[240|s>>18]+o[128|s>>12&63]+o[128|s>>6&63]+o[128|63&s])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,o){if(!r)return t;if("object"!=typeof r){if(i(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(o&&(o.plainObjects||o.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return i(t)&&!i(r)&&(s=a(t,o)),i(t)&&i(r)?(r.forEach((function(r,i){if(n.call(t,i)){var a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,o):t.push(r)}else t[i]=r})),t):Object.keys(r).reduce((function(t,i){var a=r[i];return n.call(t,i)?t[i]=e(t[i],a,o):t[i]=a,t}),s)}}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g,o=r(0),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=o.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return String(e)}}},a)},function(e,t,r){"use strict";const n=e=>{if(e||(e=[]),"string"==typeof e)if("<"==(e=e.trim())[0])if(/^<(\w+)\s*\/?>(?:<\/\1>|)$/.test(e))e=[document.createElement(RegExp.$1)];else{var t=document.createElement("div");t.innerHTML=e,e=i.from(t.children)}else e=document.querySelectorAll(e);else if("function"==typeof e)return void("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e());return e instanceof NodeList&&(e=i.from(e)),n.isArray(e)||(e=new i(e)),e instanceof i||(e=i.from(e)),e.filter(e=>e instanceof Node)};r(3)(n);class i extends Array{find(e){return this.map(t=>i.from(t.querySelectorAll(e))).flat()}closest(e){return this.map(t=>i.from(t.closest(e))).filter(e=>e)}parents(e){var t=new i;for(let r of this)for(;r;)r=r.parentElement,!r||e&&!r.matches(e)||t.push(r);return t}parent(e){return this.map(e=>e.parentElement).filter(t=>!e||t.is(e))}children(e){return this.map(t=>Array.from(t.children).filter(t=>!e||t.matches(e))).flat()}siblings(e){return this.map(t=>Array.from(t.parentNode.children).filter(r=>r!=t&&(!e||r.matches(e)))).flat()}first(){return n(this[0])}last(){return n(this[this.length-1])}prev(e){return this.map(e=>e.previousElementSibling).filter(t=>t&&(!e||t.matches(e)))}next(e){return this.map(e=>e.nextElementSibling).filter(t=>t&&(!e||t.matches(e)))}prevAll(e){var t=new i;for(let r of this)for(;r;)r=r.previousElementSibling,!r||e&&!r.matches(e)||t.push(r);return t}nextAll(e){var t=new i;for(let r of this)for(;r;)r=r.nextElementSibling,!r||e&&!r.matches(e)||t.push(r);return t}attr(e,t){return void 0!==t?(this.forEach(r=>r.setAttribute(e,t)),this):this[0]&&this[0].getAttribute(e)}removeAttr(e){return this.forEach(t=>t.removeAttribute(e)),this}show(){return this.css("display","")}hide(){return this.css("display","none")}prop(e,t){return void 0!==t?(this.forEach(r=>r[e]=t),this):this[0]&&this[0][e]}css(e,t,r){var i={};if("string"==typeof e){if(void 0===t){let t=0==e.indexOf("--")?e:e.replace(/([a-z])([A-Z])/g,(function(e,t,r){return t+"-"+r})).toLowerCase();return window.getComputedStyle(this[0]).getPropertyValue(t)}i={[e]:t}}else n.isObject(e)&&(i=e);for(let e in i){let t=0==e.indexOf("--")?e:e.replace(/([a-z])([A-Z])/g,(function(e,t,r){return t+"-"+r})).toLowerCase();for(let n of this)n.style.setProperty(t,i[e],r?"important":void 0)}return this}append(e){return this.forEach(t=>{var r=n(e);for(let e of r)t.appendChild(e)}),this}appendTo(e){return n(e).append(this),this}prepend(e){return this.forEach(t=>{var r=n(e).reverse();for(let e of r)t.insertBefore(e,t.firstChild)}),this}prependTo(e){return n(e).prepend(this),this}insertBefore(e){return n(e).before(this),this}before(e){return this.forEach(t=>{n(e).forEach(e=>{t.parentNode.insertBefore(e,t)})}),this}insertAfter(e){return n(e).after(this),this}after(e){return this.forEach(t=>{n(e).reverse().forEach(e=>{var r=t.nextSibling;r?r.parentNode.insertBefore(e,r):t.parentNode.appendChild(e)})}),this}wrap(e){return this.each((function(){n(e).eq(0).insertBefore(this).append(this)})),this}wrapInner(e){return this.forEach(t=>{var r=n(e).get(0);Array.from(t.childNodes).forEach(e=>r.appendChild(e)),t.appendChild(r)}),this}empty(){return this.forEach(e=>{for(;e.firstChild;)e.removeChild(e.firstChild)}),this}remove(e){this.forEach(e=>{e.parentNode.removeChild(e)})}eq(e){return n(this[e])}index(){if(!this[0])return-1;var e=this[0];let t=0;for(;e.previousElementSibling;)t++,e=e.previousElementSibling;return t}html(e){return void 0!==e?(this.forEach(t=>t.innerHTML=e),this):this[0]&&this[0].innerHTML}text(e){return void 0!==e?(this.forEach(t=>t.textContent=e),this):this[0]&&this[0].textContent}val(e){return void 0!==e?(this.forEach(t=>t.value=e),this):this[0]&&this[0].value}each(e){for(let t in this)if(!1===e.call(n(this[t]),this[t],t))break;return this}get(e){return null!=e?this[e]:Array.from(this)}addClass(e){return e.trim().split(" ").forEach(e=>{this.forEach(t=>t.classList.add(e))}),this}removeClass(e){return e.trim().split(" ").forEach(e=>{this.forEach(t=>t.classList.remove(e))}),this}toggleClass(e){return e.trim().split(" ").forEach(e=>{this.forEach(t=>t.classList.toggle(e))}),this}hasClass(e){return this.some(t=>t.classList.contains(e))}filter(e){return"string"==typeof e?i.from(this.get().filter(t=>t.matches(e))):i.from(this.get().filter((t,r)=>e.call(new i(t),t,r)))}is(e){return this.some(t=>t.matches(e))}offset(){if(this[0]){var e=this[0].getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX}}}on(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=void 0),"boolean"==typeof i&&(i={once:i}),i=i||{};var o=function(e){var i=this;if(t)if(e.target.matches(t))i=e.target;else if(0==(i=n(e.target).closest(t)).length)return;return r.call(n(i),e,...n.isArray(e.detail)?e.detail:[])};return e.trim().split(" ").forEach(e=>{let t=e.split("."),r=t.shift()||null,n=t.join(".")||null;r&&this.forEach(e=>{e.attachedEvents=e.attachedEvents||[],e.attachedEvents.push({eventName:r,namespace:n,handler:o,capture:i.capture||!1}),e.addEventListener(r,o,i)})}),this}one(e,t,r,n){return"string"!=typeof t?(r=r||{}).once=!0:(n=n||{}).once=!0,this.on(e,t,r,n)}off(e,t){return e.trim().split(" ").forEach(e=>{let r=e.split("."),n=r.shift()||null,i=r.join(".")||null;(n||i)&&this.forEach(e=>{let r=[];e.attachedEvents=e.attachedEvents||[],e.attachedEvents.forEach((o,a)=>{n&&n!=o.eventName||i&&i!=o.namespace||t||t!=o.cb||(e.removeEventListener(o.eventName,o.handler,o.capture),r.push(a))}),e.attachedEvents=e.attachedEvents.filter((e,t)=>!r.includes(t))})}),this}trigger(e,t){let r=e.split("."),n=r.shift()||null,i=r.join(".")||null;if(!n)return this;e=new CustomEvent(n,{detail:t,bubbles:!0,cancelable:!0});for(let t of this)i?(t.attachedEvents=t.attachedEvents||[],t.attachedEvents.forEach(r=>{n==r.eventName&&i==r.namespace&&r.handler.call(t,e)})):t.dispatchEvent(e);return this}triggerHandler(e,t){let r=e.split("."),n=r.shift()||null,i=r.join(".")||null;if(n){var o;e=new CustomEvent(n,{detail:t});return this.forEach(t=>{t.attachedEvents=t.attachedEvents||[],t.attachedEvents.forEach(r=>{n!=r.eventName||i&&i!=r.namespace||(o=r.handler.call(t,e))})}),o}}}n.HObject=i;var o=[];n.loadScript=(e,t=!1)=>new Promise((function(r,n){if(t||!o.includes(e)){var i=document.createElement("script");i.type="text/javascript",i.onerror=e=>{n(e)},i.onload=()=>{r()},i.async=!0,i.src=e,document.body.appendChild(i),o.push(e)}else r()}));var a=[];n.loadStylesheet=(e,t=!1)=>new Promise((function(r,n){if(t||!a.includes(e)){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=e=>{n(e)},i.onload=()=>{r()},i.href=e,document.head.appendChild(i),a.push(e)}else r()})),n._fetch=window.fetch.bind(window),e.exports=n},function(e,t,r){"use strict";const n=r(4);e.exports=e=>{e.isArray=Array.isArray,e.isObject=t=>t===Object(t)&&!e.isArray(t),e.delay=e=>new Promise((function(t,r){setTimeout(t,e)})),e.timestampMs=()=>+new Date,e.timestamp=()=>Math.round(+new Date/1e3),e.relativeTime=e=>{var t=Math.floor(new Date/1e3-(parseInt(e instanceof Date?e/1e3:e)||0)),r="",n=0,i={year:t/31536e3,month:t/2592e3,day:t/86400,hour:t/3600,minute:t/60};if(0==t)r="now";else if(t>0){var o={minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"one day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"},a="less than a minute";for(var s in i){if((n=Math.floor(i[s]))>1){a=o[s+"s"];break}if(1===n){a=o[s];break}}r+=(a=a.replace(/%d/i,n))+" ago"}else{t=Math.abs(t);o={minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"1 day",days:"%d days"},a="less than a minute";for(var s in i)if(n=Math.floor(Math.abs(i[s])),o.hasOwnProperty(s)){if(n>1){a=o[s+"s"];break}if(1===n){a=o[s];break}}r+="in "+(a=a.replace(/%d/i,n))}return r.trim()},e.handlize=e=>String(e).toLowerCase().replace(/[^a-z0-9]/g," ").replace(/\s+/g," ").trim().replace(/\s/g,"-"),e.regexp={handle:/^[a-z0-9_-]+$/,email:/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/},e.regexpEscape=e=>e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),e.hasOwnProp=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.getVariable=(t,r)=>{var n=t;if(n&&void 0===String(r).split(".").find(t=>{if(!e.isObject(n)&&!e.isArray(n)||!e.hasOwnProp(n,t))return!0;n=n[t]}))return n},e.setVariable=(t,r,n)=>{var i=t,o=(r=String(r).split(".")).pop();r.length,r.find((t,r)=>{e.hasOwnProp(i,t)||(i[t]={}),e.isObject(i[t])||(i[t]={}),i=i[t]});return i[o]=n,!0},e.escape=e=>String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),e.httpRequest=async(t="GET",r,i={},o={},a={},s="json",l="json")=>{var c="";"GET"==(t=t.toUpperCase())&&"?"==(c="?"+n.stringify(i))&&(c="");var u=!1;try{var f=void 0;"GET"!=t&&("json"==s?f=JSON.stringify(i):"form"==s&&(f=new URLSearchParams(n.stringify(i)))),"json"==s&&(o["Content-Type"]||o["content-type"]||(o["Content-Type"]="application/json"),o.Accept||o.accept||(o.Accept="application/json"));var p=await e._fetch(r+c,{method:t,body:f,headers:o});if(!p.ok)throw u=!0,200!=p.status?new e.Error("Error "+p.status+(p.statusText?": "+p.statusText:"")):new e.Error("A network error occured.");try{(p.headers.get("content-type")||"").split(";").shift();return"json"==l?await p.json():"buffer"==l?await p.buffer():"stream"==l?p.body:await p.text()}catch(e){throw u=!0,new Error("The server returned an invalid response.")}}catch(t){if(u)throw t;throw new e.Error("Could not reach server. "+t.toString())}},e.httpGet=async function(){return await e.httpRequest("GET",...arguments)},e.httpPost=async function(){return await e.httpRequest("POST",...arguments)},e.httpPut=async function(){return await e.httpRequest("PUT",...arguments)},e.httpDelete=async function(){return await e.httpRequest("DELETE",...arguments)};class t extends Error{constructor(e,t=500){super(e),this.errorMessage=e,this.statusCode=t}toString(){return this.errorMessage}}e.Error=t}},function(e,t,r){"use strict";var n=r(5),i=r(6),o=r(1);e.exports={formats:o,parse:i,stringify:n}},function(e,t,r){"use strict";var n=r(0),i=r(1),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,l=Array.prototype.push,c=function(e,t){l.apply(e,s(t)?t:[t])},u=Date.prototype.toISOString,f=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},h=function e(t,r,i,o,a,l,u,f,h,d,m,y,v){var b,g=t;if("function"==typeof u?g=u(r,g):g instanceof Date?g=d(g):"comma"===i&&s(g)&&(g=n.maybeMap(g,(function(e){return e instanceof Date?d(e):e})).join(",")),null===g){if(o)return l&&!y?l(r,p.encoder,v,"key"):r;g=""}if("string"==typeof(b=g)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||n.isBuffer(g))return l?[m(y?r:l(r,p.encoder,v,"key"))+"="+m(l(g,p.encoder,v,"value"))]:[m(r)+"="+m(String(g))];var E,w=[];if(void 0===g)return w;if(s(u))E=u;else{var j=Object.keys(g);E=f?j.sort(f):j}for(var O=0;O<E.length;++O){var x=E[O],S=g[x];if(!a||null!==S){var A=s(g)?"function"==typeof i?i(r,x):r:r+(h?"."+x:"["+x+"]");c(w,e(S,A,i,o,a,l,u,f,h,d,m,y,v))}}return w};e.exports=function(e,t){var r,n=e,l=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==e.format){if(!o.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],a=p.filter;return("function"==typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof l.filter?n=(0,l.filter)("",n):s(l.filter)&&(r=l.filter);var u,f=[];if("object"!=typeof n||null===n)return"";u=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var d=a[u];r||(r=Object.keys(n)),l.sort&&r.sort(l.sort);for(var m=0;m<r.length;++m){var y=r[m];l.skipNulls&&null===n[y]||c(f,h(n[y],y,d,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.formatter,l.encodeValuesOnly,l.charset))}var v=f.join(l.delimiter),b=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),v.length>0?b+v:""}},function(e,t,r){"use strict";var n=r(0),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,u=[];if(c){if(!r.plainObjects&&i.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var f=0;r.depth>0&&null!==(s=a.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+o.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:l(t,r),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);r.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(a=[])[u]=i:a[c]=i:a={0:i}}i=a}return i}(u,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var r,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,p=u.split(t.delimiter,f),h=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?d="utf-8":"utf8=%26%2310003%3B"===p[r]&&(d="iso-8859-1"),h=r,r=p.length);for(r=0;r<p.length;++r)if(r!==h){var m,y,v=p[r],b=v.indexOf("]="),g=-1===b?v.indexOf("="):b+1;-1===g?(m=t.decoder(v,a.decoder,d,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,g),a.decoder,d,"key"),y=n.maybeMap(l(v.slice(g+1),t),(function(e){return t.decoder(e,a.decoder,d,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===d&&(y=s(y)),v.indexOf("[]=")>-1&&(y=o(y)?[y]:y),i.call(c,m)?c[m]=n.combine(c[m],y):c[m]=y}return c}(e,r):e,f=r.plainObjects?Object.create(null):{},p=Object.keys(u),h=0;h<p.length;++h){var d=p[h],m=c(d,u[d],r,"string"==typeof e);f=n.merge(f,m,r)}return n.compact(f)}}]);